<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>深入了解 - 提示词工程</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header class="top-header">
        <div class="logo">
            <span class="logo-icon">🤖</span>
            <span class="logo-text">生成式AI入门课程</span>
        </div>
    </header>

    <main class="deep-page">
        <div class="deep-header">
            <a href="../index.html#ch05" class="back-btn">
                <span>←</span>
                <span>返回课程首页</span>
            </a>
        </div>

        <h1 class="deep-title">深入了解：提示词工程</h1>

        <div class="deep-content">
            <h2>提示词生成器</h2>
            <p>使用下面的工具构建一个结构化的提示词：</p>

            <div class="prompt-generator">
                <div class="form-group">
                    <label class="form-label">角色设定 (Role)</label>
                    <input id="promptRole" class="form-input" type="text" placeholder="例如：专业Python程序员、心理咨询师、营销文案专家">
                </div>
                <div class="form-group">
                    <label class="form-label">上下文信息 (Context)</label>
                    <textarea id="promptContext" class="form-textarea" rows="2" placeholder="提供背景信息、目标受众、使用场景等..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">任务描述 (Task) *</label>
                    <textarea id="promptTask" class="form-textarea" rows="3" placeholder="清楚描述你希望AI完成的任务..." required></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">输出格式 (Format)</label>
                    <select id="promptFormat" class="form-input">
                        <option value="文本段落">文本段落</option>
                        <option value="Markdown格式">Markdown格式</option>
                        <option value="JSON格式">JSON格式</option>
                        <option value="列表">列表</option>
                        <option value="表格">表格</option>
                        <option value="代码">代码</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">语气风格 (Tone)</label>
                    <select id="promptTone" class="form-input">
                        <option value="专业严谨">专业严谨</option>
                        <option value="轻松幽默">轻松幽默</option>
                        <option value="友好亲切">友好亲切</option>
                        <option value="简洁明了">简洁明了</option>
                        <option value="富有创意">富有创意</option>
                    </select>
                </div>
                <button id="generatePromptBtn" class="btn-generate">🚀 生成提示词</button>
                <div id="promptPreview" class="prompt-preview" style="display: none;"></div>
            </div>

            <h2>提示词优化前后对比</h2>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                <div style="background: #fee2e2; padding: 20px; border-radius: 10px; border-left: 4px solid #ef4444;">
                    <h3 style="color: #dc2626; margin-bottom: 10px;">❌ 效果较差</h3>
                    <div style="background: white; padding: 15px; border-radius: 8px; font-size: 0.9rem;">
                        "帮我写个产品介绍"
                    </div>
                    <p style="font-size: 0.85rem; color: #991b1b; margin-top: 10px;">问题：过于模糊，缺乏具体要求</p>
                </div>

                <div style="background: #dcfce7; padding: 20px; border-radius: 10px; border-left: 4px solid #10b981;">
                    <h3 style="color: #059669; margin-bottom: 10px;">✅ 效果更好</h3>
                    <div style="background: white; padding: 15px; border-radius: 8px; font-size: 0.9rem;">
                        "你是一名资深营销文案专家。请为我们的智能手表写一段产品介绍，目标受众是25-35岁的都市白领。重点突出：健康监测、长续航、时尚外观。输出格式为200字左右的宣传文案，语气要年轻有活力。"
                    </div>
                    <p style="font-size: 0.85rem; color: #065f46; margin-top: 10px;">优点：角色明确、受众清晰、重点突出、格式明确</p>
                </div>
            </div>

            <h2>CRAFT框架</h2>
            <p>一个实用的提示词设计框架：</p>

            <div style="background: var(--bg-tertiary); padding: 25px; border-radius: 10px; margin: 20px 0;">
                <div style="display: grid; gap: 15px;">
                    <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #2563eb;">
                        <strong style="color: #2563eb;">C - Context (上下文)</strong>
                        <p style="margin: 5px 0 0; font-size: 0.9rem;">提供必要的背景信息</p>
                    </div>
                    <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #7c3aed;">
                        <strong style="color: #7c3aed;">R - Role (角色)</strong>
                        <p style="margin: 5px 0 0; font-size: 0.9rem;">定义AI的角色定位</p>
                    </div>
                    <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #06b6d4;">
                        <strong style="color: #06b6d4;">A - Action (行动)</strong>
                        <p style="margin: 5px 0 0; font-size: 0.9rem;">明确要执行的任务</p>
                    </div>
                    <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #10b981;">
                        <strong style="color: #10b981;">F - Format (格式)</strong>
                        <p style="margin: 5px 0 0; font-size: 0.9rem;">指定输出格式</p>
                    </div>
                    <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #f59e0b;">
                        <strong style="color: #f59e0b;">T - Tone (语气)</strong>
                        <p style="margin: 5px 0 0; font-size: 0.9rem;">设定语气风格</p>
                    </div>
                </div>
            </div>

            <h2>常见提示词模式</h2>

            <ul style="line-height: 2;">
                <li><strong>零样本（Zero-shot）：</strong>直接给出任务，不提供示例</li>
                <li><strong>单样本（One-shot）：</strong>提供一个示例</li>
                <li><strong>少样本（Few-shot）：</strong>提供多个示例</li>
                <li><strong>思维链（Chain of Thought）：</strong>引导AI逐步推理</li>
            </ul>

            <h2>章节测验</h2>

            <div class="quiz-container" data-quiz-id="ch05-quiz-1">
                <div class="quiz-question">1. CRAFT框架中的"C"代表什么？</div>
                <div class="quiz-options">
                    <label class="quiz-option">
                        <input type="radio" name="ch05q1" value="0" class="quiz-radio">
                        <span>Command（命令）</span>
                    </label>
                    <label class="quiz-option">
                        <input type="radio" name="ch05q1" value="1" class="quiz-radio">
                        <span>Context（上下文）</span>
                    </label>
                    <label class="quiz-option">
                        <input type="radio" name="ch05q1" value="2" class="quiz-radio">
                        <span>Create（创建）</span>
                    </label>
                </div>
                <button class="submit-quiz-btn">提交答案</button>
                <div class="quiz-feedback"></div>
            </div>

            <div class="quiz-container" data-quiz-id="ch05-quiz-2">
                <div class="quiz-question">2. 零样本（Zero-shot）提示的特点是？</div>
                <div class="quiz-options">
                    <label class="quiz-option">
                        <input type="radio" name="ch05q2" value="0" class="quiz-radio">
                        <span>不提供任何示例，直接给出任务</span>
                    </label>
                    <label class="quiz-option">
                        <input type="radio" name="ch05q2" value="1" class="quiz-radio">
                        <span>提供一个示例</span>
                    </label>
                    <label class="quiz-option">
                        <input type="radio" name="ch05q2" value="2" class="quiz-radio">
                        <span>提供多个示例</span>
                    </label>
                </div>
                <button class="submit-quiz-btn">提交答案</button>
                <div class="quiz-feedback"></div>
            </div>

            <div class="quiz-container" data-quiz-id="ch05-quiz-3">
                <div class="quiz-question">3. 以下哪个是好的提示词实践？</div>
                <div class="quiz-options">
                    <label class="quiz-option">
                        <input type="radio" name="ch05q3" value="0" class="quiz-radio">
                        <span>简单模糊，让AI自由发挥</span>
                    </label>
                    <label class="quiz-option">
                        <input type="radio" name="ch05q3" value="1" class="quiz-radio">
                        <span>明确角色、上下文、任务、格式、语气</span>
                    </label>
                    <label class="quiz-option">
                        <input type="radio" name="ch05q3" value="2" class="quiz-radio">
                        <span>越长越好，把所有能想到的都写上</span>
                    </label>
                </div>
                <button class="submit-quiz-btn">提交答案</button>
                <div class="quiz-feedback"></div>
            </div>

            <div class="quiz-container" data-quiz-id="ch05-quiz-4">
                <div class="quiz-question">4. 思维链（Chain of Thought）提示的主要作用是？</div>
                <div class="quiz-options">
                    <label class="quiz-option">
                        <input type="radio" name="ch05q4" value="0" class="quiz-radio">
                        <span>加快AI的响应速度</span>
                    </label>
                    <label class="quiz-option">
                        <input type="radio" name="ch05q4" value="1" class="quiz-radio">
                        <span>引导AI逐步推理，提高复杂问题的准确性</span>
                    </label>
                    <label class="quiz-option">
                        <input type="radio" name="ch05q4" value="2" class="quiz-radio">
                        <span>减少token消耗</span>
                    </label>
                </div>
                <button class="submit-quiz-btn">提交答案</button>
                <div class="quiz-feedback"></div>
            </div>
        </div>

        <!-- 返回首页按钮 -->
        <div style="text-align: center; margin-top: 40px; margin-bottom: 20px;">
            <a href="../index.html" class="back-btn" style="display: inline-flex; align-items: center; gap: 8px; padding: 12px 24px; background: var(--primary-color); color: white; text-decoration: none; border-radius: 8px; font-weight: 500;">
                <span>🏠</span>
                <span>返回课程首页</span>
            </a>
        </div>

        <!-- 社交分享 -->
        <div class="share-buttons">
            <a href="#" class="share-btn share-wechat" data-share-type="wechat">
                <span>💬</span>
                <span>分享到微信</span>
            </a>
            <a href="#" class="share-btn share-weibo" data-share-type="weibo">
                <span>📱</span>
                <span>分享到微博</span>
            </a>
            <a href="#" class="share-btn share-copy" data-share-type="copy">
                <span>🔗</span>
                <span>复制链接</span>
            </a>
        </div>
    </main>

    <script src="../js/main.js"></script>
    <script>
        // 提示词生成器
        document.getElementById('generatePromptBtn').addEventListener('click', () => {
            const role = document.getElementById('promptRole').value || 'AI助手';
            const task = document.getElementById('promptTask').value;
            const context = document.getElementById('promptContext').value;
            const format = document.getElementById('promptFormat').value;
            const tone = document.getElementById('promptTone').value;

            if (!task.trim()) {
                alert('请输入任务描述');
                return;
            }

            let prompt = `# 角色设定\n你是一个${role}。\n\n`;

            if (context.trim()) {
                prompt += `# 上下文信息\n${context}\n\n`;
            }

            prompt += `# 任务要求\n${task}\n\n`;
            prompt += `# 输出要求\n- 格式：${format}\n- 语气：${tone}\n- 请确保回答准确、专业且易于理解。`;

            const preview = document.getElementById('promptPreview');
            preview.textContent = prompt;
            preview.style.display = 'block';

            // 标记完成
            try {
                const progress = JSON.parse(localStorage.getItem('genai_course_progress') || '{}');
                progress['ch05'] = true;
                localStorage.setItem('genai_course_progress', JSON.stringify(progress));
            } catch (e) {}
        });

        // 章节测验逻辑
        const ch05QuizAnswers = {
            'ch05-quiz-1': { correct: '1', explanation: '正确！CRAFT框架中的C代表Context（上下文），R代表Role（角色），A代表Action（行动），F代表Format（格式），T代表Tone（语气）。' },
            'ch05-quiz-2': { correct: '0', explanation: '正确！零样本（Zero-shot）提示不提供任何示例，直接给出任务。模型完全依靠预训练知识来完成任务。' },
            'ch05-quiz-3': { correct: '1', explanation: '正确！好的提示词应该明确角色、上下文、任务、格式和语气。使用CRAFT框架可以帮助构建高质量的提示词。' },
            'ch05-quiz-4': { correct: '1', explanation: '正确！思维链（Chain of Thought）引导AI逐步推理，让模型展示思考过程，显著提高复杂问题的准确性。' }
        };

        document.querySelectorAll('.submit-quiz-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const container = btn.closest('.quiz-container');
                const selected = container.querySelector('.quiz-radio:checked');
                const feedback = container.querySelector('.quiz-feedback');
                const options = container.querySelectorAll('.quiz-option');

                if (!selected) {
                    alert('请先选择一个答案');
                    return;
                }

                const quizId = container.getAttribute('data-quiz-id');
                const quiz = ch05QuizAnswers[quizId];

                feedback.classList.remove('correct', 'incorrect');
                feedback.classList.add('show');

                if (selected.value === quiz.correct) {
                    feedback.classList.add('correct');
                    feedback.innerHTML = `<strong>✓ 回答正确！</strong><p>${quiz.explanation}</p>`;
                    options.forEach(opt => {
                        if (opt.querySelector('.quiz-radio').value === quiz.correct) {
                            opt.classList.add('correct');
                        }
                    });
                } else {
                    feedback.classList.add('incorrect');
                    feedback.innerHTML = `<strong>✗ 回答错误</strong><p>${quiz.explanation}</p>`;
                    options.forEach(opt => {
                        if (opt.querySelector('.quiz-radio').value === quiz.correct) {
                            opt.classList.add('correct');
                        } else if (opt.querySelector('.quiz-radio').checked) {
                            opt.classList.add('incorrect');
                        }
                    });
                }

                btn.disabled = true;
                btn.textContent = '已完成';
            });
        });
    </script>
</body>
</html>
